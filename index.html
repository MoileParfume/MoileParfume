<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Moile Parfume</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer>
    let cart = [];

    function addToCart(name, price) {
      const existing = cart.find(item => item.name === name);
      if (existing) {
        existing.qty++;
      } else {
        cart.push({ name, price, qty: 1 });
      }
      updateCartCount();
    }

    function updateCartCount() {
      document.getElementById('cartCount').textContent = cart.reduce((sum, item) => sum + item.qty, 0);
    }

    function openCart() {
      let content = '';
      cart.forEach(item => {
        content += `<li class='mb-2'>${item.name} (${item.qty}) - Rp${item.price}</li>`;
      });
      document.getElementById('cartItems').innerHTML = content;
      document.getElementById('cartModal').classList.remove('hidden');
    }

    function closeCart() {
      document.getElementById('cartModal').classList.add('hidden');
    }

    function sendWhatsApp() {
      const nama = document.getElementById('nama').value;
      const alamat = document.getElementById('alamat').value;
      let pesan = `Halo Moile Parfume, saya ingin memesan:%0A`;
      cart.forEach(item => {
        pesan += `- ${item.name} x${item.qty} (Rp${item.price})%0A`;
      });
      pesan += `%0Aüë§ Nama: ${nama}%0Aüè† Alamat: ${alamat}`;
      window.open(`https://wa.me/62815868197323?text=${encodeURI(pesan)}`, '_blank');
    }
  </script>
</head>
<body class="bg-white text-gray-800 font-sans">
  <header class="bg-yellow-100 py-6 shadow-md flex justify-between items-center px-6">
    <h1 class="text-2xl font-bold text-yellow-900">Moile Parfume</h1>
    <button onclick="openCart()" class="relative">
      üõí <span id="cartCount" class="absolute -top-2 -right-3 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">0</span>
    </button>
  </header>

  <main class="p-6 grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Produk -->
    <div class="border p-4 rounded shadow">
      <img src="https://via.placeholder.com/300x300.png?text=My+Way" alt="My Way" class="mb-2">
      <h2 class="font-semibold">My Way (50ML)</h2>
      <p>Rp45.000</p>
      <button onclick="addToCart('My Way (50ML)', 45000)" class="mt-2 bg-yellow-500 text-white px-4 py-2 rounded">Tambah ke Keranjang</button>
    </div>
    <div class="border p-4 rounded shadow">
      <img src="https://via.placeholder.com/300x300.png?text=Sauvage+Dior" alt="Sauvage Dior" class="mb-2">
      <h2 class="font-semibold">Sauvage Dior (50ML)</h2>
      <p>Rp120.000</p>
      <button onclick="addToCart('Sauvage Dior (50ML)', 120000)" class="mt-2 bg-yellow-500 text-white px-4 py-2 rounded">Tambah ke Keranjang</button>
    </div>
    <div class="border p-4 rounded shadow">
      <img src="https://via.placeholder.com/300x300.png?text=Vanilla+Mist" alt="Vanilla Mist" class="mb-2">
      <h2 class="font-semibold">Vanilla Mist (50ML)</h2>
      <p>Rp65.000</p>
      <button onclick="addToCart('Vanilla Mist (50ML)', 65000)" class="mt-2 bg-yellow-500 text-white px-4 py-2 rounded">Tambah ke Keranjang</button>
    </div>
  </main>

  <!-- Modal Keranjang -->
  <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded shadow-lg w-96">
      <h3 class="text-xl font-bold mb-4">Keranjang Belanja</h3>
      <ul id="cartItems" class="mb-4"></ul>
      <div class="mb-4">
        <label class="block mb-1 font-medium">Nama</label>
        <input type="text" id="nama" class="border p-2 w-full rounded">
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-medium">Alamat</label>
        <textarea id="alamat" class="border p-2 w-full rounded"></textarea>
      </div>
      <div class="flex justify-between">
        <button onclick="closeCart()" class="bg-gray-400 text-white px-4 py-2 rounded">Tutup</button>
        <button onclick="sendWhatsApp()" class="bg-green-500 text-white px-4 py-2 rounded">Kirim ke WhatsApp</button>
      </div>
    </div>
  </div>
</body>
</html>
